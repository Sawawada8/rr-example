server:
  command: "php worker.php"

http:
  pool.debug: true
  address: 0.0.0.0:8080
  middleware: [ "static" ]
  pool:
    num_workers: 4
  static:
    dir: "./static"
    forbid: [ "" ]
    calculate_etag: false
    weak: false
    allow: [ ".html", ".css" ]
    request:
      input: "custom-header"
    response:
      output: "output-header"

logs:
  mode: production
  output: stderr
  file_logger_options:
    log_output: "./logs/my.log"
    max_size: 100
    max_age: 1
    max_backups : 5
    compress: false

# https://roadrunner.dev/docs/plugins-reload/2.x/en
reload:
  # sync interval
  interval: 1s
  # global patterns to sync
  patterns: [ ".php" ]
  # list of included for sync services
  services:
    http:
      # recursive search for file patterns to add
      recursive: true
      # ignored folders
      ignore: [ "vendor" ]
      # service specific file pattens to sync
      patterns: [ ".php", ".go", ".md" ]
      # directories to sync. If recursive is set to true,
      # recursive sync will be applied only to the directories in `dirs` section
      dirs: [ "." ]